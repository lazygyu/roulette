let t;var i,e=globalThis,s={},o={},a=e.parcelRequire5cc2;null==a&&((a=function(t){if(t in s)return s[t].exports;if(t in o){var i=o[t];delete o[t];var e={id:t,exports:{}};return s[t]=e,i.call(e.exports,e,e.exports),e.exports}var a=Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,i){o[t]=i},e.parcelRequire5cc2=a);var r=a.register;r("iyjrR",function(t,i){t.exports=import("8BShk").then(()=>a("jaZ7o"))}),r("8ZFBQ",function(t,i){t.exports=import("ilUZb").then(()=>a("6fGU3"))});const n={en:{"Enter names below":"Enter names below",Shuffle:"Shuffle",Start:"Start",Map:"Map",Recording:"Recording","The winner is":"The winner is","Using skills":"Using skills","Buy me a coffee":"Buy me a coffee",First:"First",Last:"Last","Wheel of fortune":"Wheel of fortune",BubblePop:"BubblePop","Pot of greed":"Pot of greed","Yoru ni Kakeru":"Into The Night (by item4)","Shake!":"Shake!","Input names separated by commas or line feed here":"Input names separated by commas or line feed here","This program is freeware and may be used freely anywhere, including in broadcasts and videos.":"This program is freeware and may be used freely anywhere, including in broadcasts and videos.",Close:"Close","The result has been copied":"The result has been copied"},ko:{"Enter names below":"이름들을 입력하세요",Shuffle:"섞기",Start:"시작",Map:"맵",Recording:"녹화","The winner is":"당첨 순위","Using skills":"스킬 활성화","Buy me a coffee":"개발자에게 커피 사주기",First:"첫번째",Last:"마지막","Wheel of fortune":"운명의 수레바퀴",BubblePop:"버블팝","Pot of greed":"욕망의 항아리","Yoru ni Kakeru":"밤을 달리다 (by item4)","Shake!":"흔들기!","Input names separated by commas or line feed here":"이름들을 쉼표나 엔터로 구분해서 넣어주세요","This program is freeware and may be used freely anywhere, including in broadcasts and videos.":"이 프로그램은 프리웨어이며 방송이나 영상 등을 포함한 어떤 용도로든 자유롭게 사용하는 것이 허용되어있습니다.",Close:"닫기","The result has been copied":"결과가 복사되었습니다"}};function p(i){if(!(i instanceof HTMLElement)||!t)return;let e=i.getAttribute("data-trans");if(e){let s=(i.getAttribute(e)||"").trim();s&&s in n[t]&&i.setAttribute(e,n[t][s])}else{let e=i.innerText.trim();e&&e in n[t]&&(i.innerText=n[t][e])}}function l(t,i,e,s){var o,a=arguments.length,r=a<3?i:null===s?s=Object.getOwnPropertyDescriptor(i,e):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,i,e,s);else for(var n=t.length-1;n>=0;n--)(o=t[n])&&(r=(a<3?o(r):a>3?o(i,e,r):o(i,e))||r);return a>3&&r&&Object.defineProperty(i,e,r),r}document.addEventListener("DOMContentLoaded",()=>{console.log("localization loaded");let i=navigator.language.split("-")[0];console.log("detected locale: ",i),function(i){if(i===t)return;document.documentElement.lang=i;let e=i.toLocaleLowerCase();t=e in n?e:"en",document.querySelectorAll("[data-trans]").forEach(p)}(i)}),window.translateElement=p,"function"==typeof SuppressedError&&SuppressedError;var y=((i={})[i.None=0]="None",i[i.Impact=1]="Impact",i);const c={box:"cyan",circle:"yellow",polyline:"white"},h={box:"cyan",circle:"yellow",polyline:"cyan"};function u(t){return Math.PI*t/180}function d(t,i){let e=t.exec(i);return e?e[1]:""}function g(t){return t.toString().padStart(2,"0")}const x=new class{constructor(){this.useSkills=!0,this.winningRank=0,this.autoRecording=!0}};class f{static sub(t,i){return{x:i.x-t.x,y:i.y-t.y}}static lenSq(t){return t.x*t.x+t.y*t.y}static len(t){return Math.sqrt(this.lenSq(t))}static mul(t,i){return{x:t.x*i,y:t.y*i}}static add(t,i){return{x:t.x+i.x,y:t.y+i.y}}}class b{get position(){return this.physics.getMarblePosition(this.id)||{x:0,y:0,angle:0}}get x(){return this.position.x}set x(t){this.position.x=t}get y(){return this.position.y}set y(t){this.position.y=t}get angle(){return this.position.angle}constructor(t,i,e,s,o=1){this.type="marble",this.name="",this.size=.5,this.color="red",this.hue=0,this.impact=0,this.weight=1,this.skill=y.None,this.isActive=!1,this._skillRate=5e-4,this._coolTime=5e3,this._maxCoolTime=5e3,this._stuckTime=0,this.lastPosition={x:0,y:0},this.name=s||`M${i}`,this.weight=o,this.physics=t,this._maxCoolTime=1e3+(1-this.weight)*4e3,this._coolTime=this._maxCoolTime*Math.random(),this._skillRate=.2*this.weight;let a=Math.ceil(e/10),r=Math.floor(i/10),n=-Math.max(0,Math.ceil(a-5));this.hue=360/e*i,this.color=`hsl(${this.hue} 100% 70%)`,this.id=i,t.createMarble(i,10.25+i%10*.6,a-r+n)}update(t){this.isActive&&1e-5>f.lenSq(f.sub(this.lastPosition,this.position))?(this._stuckTime+=t,this._stuckTime>5e3&&(this.physics.shakeMarble(this.id),this._stuckTime=0)):this._stuckTime=0,this.lastPosition={x:this.position.x,y:this.position.y},this.skill=y.None,this.impact&&(this.impact=Math.max(0,this.impact-t)),this.isActive&&x.useSkills&&this._updateSkillInformation(t)}_updateSkillInformation(t){this._coolTime>0&&(this._coolTime-=t),this._coolTime<=0&&(this.skill=Math.random()<this._skillRate?y.Impact:y.None,this._coolTime=this._maxCoolTime)}render(t,i,e,s=!1,o){t.save(),s?this._renderMinimap(t):this._renderNormal(t,i,e,o),t.restore()}_renderMinimap(t){t.fillStyle=this.color,this._drawMarbleBody(t,!0)}_drawMarbleBody(t,i){t.beginPath(),t.arc(this.x,this.y,i?this.size:this.size/2,0,2*Math.PI),t.fill()}_renderNormal(t,i,e,s){if(t.fillStyle=`hsl(${this.hue} 100% ${70+25*Math.min(1,this.impact/500)}%`,this._stuckTime>0&&(t.fillStyle=`hsl(${this.hue} 100% ${70+25*Math.min(1,this._stuckTime/5e3)}%`),t.shadowColor=this.color,t.shadowBlur=i/2,s){let i=this.size/2;t.save(),t.translate(this.x,this.y),t.rotate(this.angle),t.drawImage(s,-i,-i,2*i,2*i),t.restore()}else this._drawMarbleBody(t,!1);t.shadowColor="",t.shadowBlur=0,this._drawName(t,i),e&&this._drawOutline(t,2/i),x.useSkills&&this._renderCooltime(t,i)}_drawName(t,i){t.save(),t.translate(this.x,this.y+.25),t.scale(1/i,1/i),t.font="12pt sans-serif",t.strokeStyle="black",t.lineWidth=2,t.fillStyle=this.color,t.shadowBlur=0,t.strokeText(this.name,0,0),t.fillText(this.name,0,0),t.restore()}_drawOutline(t,i){t.save(),t.beginPath(),t.strokeStyle="white",t.lineWidth=i,t.arc(this.x,this.y,this.size/2,0,2*Math.PI),t.stroke(),t.restore()}_renderCooltime(t,i){t.strokeStyle="red",t.lineWidth=1/i,t.beginPath(),t.arc(this.x,this.y,this.size/2+2/i,u(270),u(270+360*this._coolTime/this._maxCoolTime)),t.stroke()}_renderStuck(t,i){t.strokeStyle="green",t.lineWidth=1/i,t.beginPath(),t.arc(this.x,this.y,this.size/2+3/i,u(270),u(270+360*(1-this._stuckTime/5e3))),t.stroke()}}class V{constructor(t,i){this._elapsed=0,this.position={x:0,y:0},this.force={x:0,y:0},this.color="",this.isDestroy=!1,this.position.x=t,this.position.y=i;let e=250*Math.random(),s=u(90*Math.random()-180),o=Math.cos(s)*e,a=Math.sin(s)*e;this.color=`hsl(${360*Math.random()} 50% 50%)`,this.force={x:o,y:a}}update(t){this._elapsed+=t;let i=f.mul(this.force,t/100);this.position=f.add(this.position,i),this.force.y+=10*t/100,this._elapsed>3e3&&(this.isDestroy=!0)}render(t){t.save(),t.globalAlpha=1-Math.pow(this._elapsed/3e3,2),t.fillStyle=this.color,t.fillRect(this.position.x,this.position.y,20,20),t.restore()}}class w{update(t){this._particles.forEach(i=>{i.update(t)}),this._particles=this._particles.filter(t=>!t.isDestroy)}render(t){this._particles.forEach(i=>i.render(t))}shot(t,i){for(let e=0;e<200;e++)this._particles.push(new V(t,i))}constructor(){this._particles=[]}}const m=[{title:"Wheel of fortune",goalY:111,zoomY:106.75,entities:[{position:{x:0,y:0},shape:{type:"polyline",points:[[16.5,-300],[9.25,-300],[9.25,8.5],[2,19.25],[2,26],[9.75,30],[9.75,33.5],[1.25,41],[1.25,53.75],[8.25,58.75],[8.25,63],[9.25,64],[8.25,65],[8.25,99.25],[15.1,106.75],[15.1,111.75]],rotation:0},type:"static",props:{density:1,angularVelocity:0,restitution:0}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[16.5,-300],[16.5,9.25],[9.5,20],[9.5,22.5],[17.5,26],[17.5,33.5],[24,38.5],[19,45.5],[19,55.5],[24,59.25],[24,63],[23,64],[24,65],[24,100.5],[16,106.75],[16,111.75]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[12.75,37.5],[7,43.5],[7,49.75],[12.75,53.75],[12.75,37.5]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[14.75,37.5],[14.75,43],[17.5,40.25],[14.75,37.5]]}},{position:{x:15.5,y:30},shape:{type:"box",width:.2,height:.2,rotation:-45},type:"static",props:{density:1,angularVelocity:0,restitution:1}},{position:{x:15.5,y:32},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:15.5,y:28},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:12.5,y:30},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:12.5,y:32},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:12.5,y:28},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9.4,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:11.3,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:13.2,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:15.1,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:17,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:18.9,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:20.699999999999996,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:22.7,y:66.6},type:"static",shape:{type:"box",width:.6,height:.1,rotation:45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9.4,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:11.3,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:13.2,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:15.1,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:17,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:18.9,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:20.699999999999996,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:22.7,y:69.1},type:"static",shape:{type:"box",width:.6,height:.1,rotation:-45},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9.5,y:92},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:12.75,y:92},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:16,y:92},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:19.25,y:92},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:22.5,y:92},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:11,y:95},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:14.25,y:95},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:17.5,y:95},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:20.75,y:95},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9.5,y:98},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:12.75,y:98},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:16,y:98},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:19.25,y:98},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:22.5,y:98},type:"static",shape:{type:"box",width:.25,height:.25,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:8,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:3.5,restitution:0}},{position:{x:12,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-3.5,restitution:0}},{position:{x:16,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:3.5,restitution:0}},{position:{x:20,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-3.5,restitution:0}},{position:{x:24,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:3.5,restitution:0}},{position:{x:14,y:106.75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-1.2,restitution:0}}]},{title:"BubblePop",goalY:83,zoomY:78,entities:[{type:"static",position:{x:10.375,y:-108.5},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[6.125,-191.5],[-1.125,-191.5],[-1.125,108.5],[-1.125,151.5],[-6.125,158.5],[-1.125,161.5],[-1.125,179.5],[-.9128679656440362,179.7498817789222],[-1.125,179.9997635578444],[-1.125,183.5],[1.625,188.5],[1.625,191.5]]}},{type:"static",position:{x:16.25,y:-108.5},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[.25,-191.5],[.25,158.5],[3.25,162.5],[2.25,164.5],[3.25,166.5],[.25,169.5],[.25,179.5],[.03786796564403616,179.75925677892224],[.25,179.9997635578444],[.25,183.5],[-3.25,188.5],[-3.25,191.5]]}},{type:"static",position:{x:16.5,y:55.75},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[0,-3.25],[1,-1.75],[0,.25],[1,2.25],[0,3.25],[-1,.25],[0,-3.25]]}},{type:"static",position:{x:10.375,y:48.25},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[-1.125,-2.75],[-4.125,1.25],[-1.125,2.75],[4.125,2.25],[-1.125,-2.75]]}},{type:"static",position:{x:10.15625,y:26.75},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[-.90625,-.75],[.90625,.75]]}},{type:"static",position:{x:15.59375,y:26.75},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[.90625,-.75],[-.90625,.75]]}},{type:"static",position:{x:12.875,y:29.25},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[-1.8125,.75],[0,-.75],[1.8125,.75]]}},{type:"static",position:{x:10.15625,y:31.75},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[-.90625,-.75],[.90625,.75]]}},{type:"static",position:{x:15.59375,y:31.75},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[.90625,-.75],[-.90625,.75]]}},{type:"static",position:{x:12.875,y:34.25},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"polyline",rotation:0,points:[[-1.8125,.75],[0,-.75],[1.8125,.75]]}},{type:"static",position:{x:9.25,y:18},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:11.25,y:18},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:13.25,y:18},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:15.25,y:18},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:10.5,y:19},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:12.5,y:19},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:14.5,y:19},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:16.5,y:19},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:9.25,y:20},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:11.25,y:20},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:13.25,y:20},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:15.25,y:20},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:10.5,y:21},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:12.5,y:21},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:14.5,y:21},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:16.5,y:21},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:9.25,y:22},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:11.25,y:22},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:13.25,y:22},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:15.25,y:22},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:10.5,y:23},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:12.5,y:23},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:14.5,y:23},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:16.5,y:23},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:.15,height:.15}},{type:"static",position:{x:9.400000000000002,y:39},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:3,height:3}},{type:"static",position:{x:16.5,y:43},props:{angularVelocity:0,density:1,restitution:0},shape:{type:"box",rotation:.7853981633974483,width:3,height:3}},{type:"kinematic",position:{x:10.7,y:10},props:{angularVelocity:10,density:1,restitution:0},shape:{type:"box",rotation:0,width:.5,height:.1}},{type:"kinematic",position:{x:14.7,y:10},props:{angularVelocity:-10,density:1,restitution:0},shape:{type:"box",rotation:0,width:.5,height:.1}},{type:"kinematic",position:{x:12.7,y:10},props:{angularVelocity:10,density:1,restitution:0},shape:{type:"box",rotation:0,width:.5,height:.1}},{type:"kinematic",position:{x:10.7,y:14},props:{angularVelocity:-3,density:1,restitution:0},shape:{type:"box",rotation:0,width:2,height:.1}},{type:"kinematic",position:{x:14.7,y:14},props:{angularVelocity:3,density:1,restitution:0},shape:{type:"box",rotation:0,width:2,height:.1}},{type:"kinematic",position:{x:11.2,y:44},props:{angularVelocity:-5,density:1,restitution:0},shape:{type:"box",rotation:0,width:.5,height:.1}},{type:"kinematic",position:{x:10.3,y:75},props:{angularVelocity:8,density:1,restitution:0},shape:{type:"box",rotation:0,width:1,height:.1}},{type:"kinematic",position:{x:15.462132034355964,y:75},props:{angularVelocity:-8,density:1,restitution:0},shape:{type:"box",rotation:0,width:1,height:.1}},{type:"static",position:{x:11,y:65},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:13,y:65},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:15,y:65},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:12,y:67.5},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:14,y:67.5},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:13,y:69.77058813837772},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.8}},{type:"static",position:{x:10.7,y:77.5},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.8}},{type:"static",position:{x:14.7,y:77.5},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.8}},{type:"static",position:{x:12.625,y:80},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:1.5}},{type:"static",position:{x:12.625,y:80},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:1.2}},{type:"kinematic",position:{x:12.625,y:56.00000000000001},props:{angularVelocity:-8,density:1,restitution:0},shape:{type:"box",rotation:0,width:1,height:.1}},{type:"static",position:{x:9.947604593262161,y:62.59581680393866},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:11.947604593262161,y:62.59581680393866},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:13.947604593262161,y:62.59581680393866},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}},{type:"static",position:{x:15.828283102570442,y:62.59581680393866},props:{angularVelocity:0,density:1,restitution:1.5,life:1},shape:{type:"circle",radius:.5}}]},{title:"Pot of greed",goalY:111,zoomY:110,entities:[{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[17,-300],[9,-300],[9,8.5],[2,15],[6,61.5]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[7,71],[9,101],[8,100.5],[6,100],[5,90],[4,70],[7,71]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[17,-300],[17,8.5],[24,15],[20,61.5]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[19,71],[17,101],[18,100.5],[20,100],[21,90],[22,70],[19,71]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[11,88],[12,90],[12,112]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[15,88],[14,90],[14,112]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[12,102],[11,103],[9,104],[8,104],[6,103],[5,102],[4,100],[3,90],[2,70],[3,65],[4,63],[5,62],[6,61.5]]}},{type:"static",position:{x:0,y:0},props:{density:1,angularVelocity:0,restitution:0},shape:{type:"polyline",rotation:0,points:[[14,102],[15,103],[17,104],[18,104],[20,103],[21,102],[22,100],[23,90],[24,70],[23,65],[22,63],[21,62],[20,61.5]]}},{position:{x:13,y:20},type:"static",shape:{type:"box",width:3,height:3,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:13,y:55},type:"static",shape:{type:"box",width:3,height:3,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:8,y:37},type:"static",shape:{type:"box",width:2,height:2,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:18,y:37},type:"static",shape:{type:"box",width:2,height:2,rotation:.7853981633974483},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:11,y:12},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-3,restitution:0}},{position:{x:15,y:12},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:3,restitution:0}},{position:{x:8,y:104},type:"kinematic",shape:{type:"box",width:1,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:6,y:103},type:"kinematic",shape:{type:"box",width:1.5,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:4,y:100},type:"kinematic",shape:{type:"box",width:1.5,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:3.5,y:95},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:3,y:90},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:2.75,y:85},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:2.5,y:80},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:2.25,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:2,y:70},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:-10,restitution:0}},{position:{x:18,y:104},type:"kinematic",shape:{type:"box",width:1,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:20,y:103},type:"kinematic",shape:{type:"box",width:1.5,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:22,y:100},type:"kinematic",shape:{type:"box",width:1.5,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:22.5,y:95},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:23,y:90},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:23.25,y:85},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:23.5,y:80},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:23.75,y:75},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}},{position:{x:24,y:70},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0},props:{density:1,angularVelocity:10,restitution:0}}]},{title:"Yoru ni Kakeru",goalY:248,zoomY:234.5,entities:[{position:{x:2,y:0},shape:{type:"box",width:1,height:800,rotation:0,color:"#222",bloomColor:"#777"},type:"static",props:{density:500,angularVelocity:0,restitution:0}},{type:"static",position:{x:21,y:0},props:{density:500,angularVelocity:0,restitution:0},shape:{type:"box",rotation:0,width:1,height:800,color:"#222",bloomColor:"#777"}},{position:{x:4,y:25},shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},type:"static",props:{density:1,angularVelocity:0,restitution:1}},{position:{x:4,y:30},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:4,y:35},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:4,y:40},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9,y:25},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9,y:30},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9,y:35},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:9,y:40},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:14,y:25},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:14,y:30},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:14,y:35},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:14,y:40},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:19,y:25},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:19,y:30},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:19,y:35},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:19,y:40},type:"static",shape:{type:"box",width:.2,height:.2,rotation:-45,color:"#818fb4"},props:{density:1,angularVelocity:0,restitution:0}},{position:{x:6.5,y:27.5},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0,color:"#9bec00"},props:{density:1,angularVelocity:2,restitution:0}},{position:{x:6.5,y:37.5},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0,color:"#ff6868"},props:{density:1,angularVelocity:2,restitution:0}},{position:{x:11.5,y:32.5},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0,color:"#80b3ff"},props:{density:2,angularVelocity:4,restitution:0}},{position:{x:16.5,y:27.5},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0,color:"#ff6868"},props:{density:1,angularVelocity:-2,restitution:0}},{position:{x:16.5,y:37.5},type:"kinematic",shape:{type:"box",width:2,height:.1,rotation:0,color:"#9bec00"},props:{density:1,angularVelocity:-2,restitution:0}},{position:{x:10,y:26},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:26},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13,y:26},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10,y:27.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:27.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13,y:27.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10,y:29},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:29},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13,y:29},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5,y:31},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:31},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:31},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5,y:32.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:32.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:32.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5,y:34},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:34},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:34},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15,y:31},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:31},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18,y:31},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15,y:32.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:32.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18,y:32.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15,y:34},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:34},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18,y:34},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10,y:36},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:36},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13,y:36},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10,y:37.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:37.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13,y:37.5},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10,y:39},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:39},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13,y:39},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:50},type:"kinematic",shape:{type:"box",width:6.5,height:.1,rotation:0,color:"#5c5470"},props:{density:1,angularVelocity:-2,restitution:0}},{position:{x:3.5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:14,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:17,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:20,y:60},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:3,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:9,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:12,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:63},type:"static",shape:{type:"circle",radius:.5,color:"#ffe227"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:14,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:17,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:20,y:66},type:"static",shape:{type:"circle",radius:.5,color:"#fff4b7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:75},type:"kinematic",shape:{type:"box",width:4,height:.1,rotation:0,color:"#ff577f"},props:{density:1,angularVelocity:-4,restitution:0}},{position:{x:18.5,y:75},type:"kinematic",shape:{type:"box",width:4,height:.1,rotation:0,color:"#ff577f"},props:{density:1,angularVelocity:4,restitution:0}},{position:{x:3.8,y:90},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1,restitution:0}},{position:{x:19.2,y:90},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1,restitution:0}},{position:{x:5.8,y:92},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.2,restitution:0}},{position:{x:17.2,y:92},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.2,restitution:0}},{position:{x:7.8,y:94},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.4,restitution:0}},{position:{x:15.2,y:94},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.4,restitution:0}},{position:{x:9.8,y:96},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:13.2,y:96},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:3.8,y:94},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.2,restitution:0}},{position:{x:19.2,y:94},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.2,restitution:0}},{position:{x:5.8,y:96},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.4,restitution:0}},{position:{x:17.2,y:96},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.4,restitution:0}},{position:{x:7.8,y:98},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:15.2,y:98},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:9.8,y:100},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.8,restitution:0}},{position:{x:13.2,y:100},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.8,restitution:0}},{position:{x:10,y:90},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:12,y:90},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:92},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:14,y:92},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6,y:94},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:16,y:94},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:4,y:96},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18,y:96},type:"static",shape:{type:"circle",radius:.5,color:"#ffe3fe"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:10,y:94},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:12,y:94},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:8,y:96},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:14,y:96},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:6,y:98},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:16,y:98},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:4,y:100},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:18,y:100},type:"static",shape:{type:"circle",radius:.5,color:"#ff94cc"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:100},type:"kinematic",shape:{type:"box",width:5,height:.1,rotation:0,color:"#5c8374"},props:{density:1,angularVelocity:-2.5,restitution:0}},{position:{x:18.5,y:100},type:"kinematic",shape:{type:"box",width:5,height:.1,rotation:0,color:"#5c8374"},props:{density:1,angularVelocity:2.5,restitution:0}},{position:{x:3.8,y:104},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.4,restitution:0}},{position:{x:19.2,y:104},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.4,restitution:0}},{position:{x:5.8,y:106},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:17.2,y:106},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:7.8,y:108},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.8,restitution:0}},{position:{x:15.2,y:108},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:1.8,restitution:0}},{position:{x:9.8,y:110},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:2,restitution:0}},{position:{x:13.2,y:110},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#c7ffd8"},props:{density:1,angularVelocity:2,restitution:0}},{position:{x:3.8,y:108},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:19.2,y:108},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.6,restitution:0}},{position:{x:5.8,y:110},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.8,restitution:0}},{position:{x:17.2,y:110},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:1.8,restitution:0}},{position:{x:7.8,y:112},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:2,restitution:0}},{position:{x:15.2,y:112},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:2,restitution:0}},{position:{x:9.8,y:114},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:2.2,restitution:0}},{position:{x:13.2,y:114},type:"static",shape:{type:"box",width:.1,height:.1,rotation:-90,color:"#98ded9"},props:{density:1,angularVelocity:2.2,restitution:0}},{position:{x:3.5,y:105},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:105},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:107},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:107},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:107},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:107},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:109},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:109},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:109},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:109},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:109},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:109},type:"static",shape:{type:"circle",radius:.5,color:"#edeef7"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:115},type:"static",shape:{type:"circle",radius:.4,color:"#e6176d"},props:{angularVelocity:0,density:1,restitution:1.5,life:5}},{position:{x:17.5,y:115},type:"static",shape:{type:"circle",radius:.4,color:"#e6176d"},props:{angularVelocity:0,density:1,restitution:1.5,life:5}},{position:{x:5.5,y:115},type:"static",shape:{type:"circle",radius:1.2,color:"#e64588"},props:{angularVelocity:0,density:1,restitution:1.5,life:4}},{position:{x:17.5,y:115},type:"static",shape:{type:"circle",radius:1.2,color:"#e64588"},props:{angularVelocity:0,density:1,restitution:1.5,life:4}},{position:{x:5.5,y:115},type:"static",shape:{type:"circle",radius:2,color:"#e673a3"},props:{angularVelocity:0,density:1,restitution:1.5,life:3}},{position:{x:17.5,y:115},type:"static",shape:{type:"circle",radius:2,color:"#e673a3"},props:{angularVelocity:0,density:1,restitution:1.5,life:3}},{position:{x:5.5,y:115},type:"static",shape:{type:"circle",radius:2.8,color:"#e6a1bd"},props:{angularVelocity:0,density:1,restitution:1.5,life:2}},{position:{x:17.5,y:115},type:"static",shape:{type:"circle",radius:2.8,color:"#e6a1bd"},props:{angularVelocity:0,density:1,restitution:1.5,life:2}},{position:{x:5.5,y:115},type:"static",shape:{type:"circle",radius:3.8,color:"#e6cfd8"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:115},type:"static",shape:{type:"circle",radius:3.8,color:"#e6cfd8"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:120},type:"static",shape:{type:"circle",radius:.4,color:"#e6176d"},props:{angularVelocity:0,density:1,restitution:1.5,life:5}},{position:{x:11.5,y:120},type:"static",shape:{type:"circle",radius:1.2,color:"#e64588"},props:{angularVelocity:0,density:1,restitution:1.5,life:4}},{position:{x:11.5,y:120},type:"static",shape:{type:"circle",radius:2,color:"#e673a3"},props:{angularVelocity:0,density:1,restitution:1.5,life:3}},{position:{x:11.5,y:120},type:"static",shape:{type:"circle",radius:2.8,color:"#e6a1bd"},props:{angularVelocity:0,density:1,restitution:1.5,life:2}},{position:{x:11.5,y:120},type:"static",shape:{type:"circle",radius:3.8,color:"#e6cfd8"},props:{angularVelocity:0,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:130},type:"kinematic",shape:{type:"box",width:5,height:.1,rotation:0,color:"#435585"},props:{density:1,angularVelocity:.25,restitution:0}},{position:{x:18.5,y:130},type:"kinematic",shape:{type:"box",width:5,height:.1,rotation:0,color:"#5c8374"},props:{density:1,angularVelocity:-.32,restitution:0}},{position:{x:4.5,y:140},type:"kinematic",shape:{type:"box",width:4,height:.1,rotation:30,color:"#610c9f"},props:{density:1,angularVelocity:.32,restitution:0}},{position:{x:18.5,y:140},type:"kinematic",shape:{type:"box",width:4,height:.1,rotation:-30,color:"#872341"},props:{density:1,angularVelocity:-.32,restitution:0}},{position:{x:4.5,y:150},type:"kinematic",shape:{type:"box",width:5,height:.1,rotation:60,color:"#503c3c"},props:{density:1,angularVelocity:.32,restitution:0}},{position:{x:18.5,y:150},type:"kinematic",shape:{type:"box",width:5,height:.1,rotation:-60,color:"#5c5470"},props:{density:1,angularVelocity:-.32,restitution:0}},{position:{x:4.5,y:160},type:"kinematic",shape:{type:"box",width:4,height:.1,rotation:90,color:"#1a3636"},props:{density:1,angularVelocity:.32,restitution:0}},{position:{x:18.5,y:160},type:"kinematic",shape:{type:"box",width:4,height:.1,rotation:-90,color:"#522258"},props:{density:1,angularVelocity:-.32,restitution:0}},{position:{x:3.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:8.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:14.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:135},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:8.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:14.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:140},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:8.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:14.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:144},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:8.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:14.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:147},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:8.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:14.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:149},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:3.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:5.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:6.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:7.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:8.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:9.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:10.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:11.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:12.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:13.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:14.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:15.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:16.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:17.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:18.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:19.5,y:150},type:"static",shape:{type:"circle",radius:.2,color:"#e6e1ae"},props:{angularVelocity:1,density:1,restitution:1.5,life:1}},{position:{x:4.5,y:180},type:"kinematic",shape:{type:"box",width:6,height:.1,rotation:0,color:"#ccb1b1"},props:{density:1,angularVelocity:4.6,restitution:0}},{position:{x:18.5,y:180},type:"kinematic",shape:{type:"box",width:7,height:.1,rotation:0,color:"#b1ccb1"},props:{density:1,angularVelocity:-4,restitution:0}},{position:{x:11.5,y:195},type:"kinematic",shape:{type:"box",width:8,height:.1,rotation:0,color:"#b3ccff"},props:{density:1,angularVelocity:5.5,restitution:0}}]}];class _{get zoom(){return this._zoom}set zoom(t){this._targetZoom=t}get x(){return this._position.x}set x(t){this._targetPosition.x=t}get y(){return this._position.y}set y(t){this._targetPosition.y=t}get position(){return this._position}setPosition(t,i=!1){return i?this._position={x:t.x,y:t.y}:this._targetPosition={x:t.x,y:t.y}}lock(t){this._locked=t}update({marbles:t,stage:i,needToZoom:e,targetIndex:s}){this._locked||this._calcTargetPositionAndZoom(t,i,e,s),this._position.x=this._interpolation(this.x,this._targetPosition.x),this._position.y=this._interpolation(this.y,this._targetPosition.y),this._zoom=this._interpolation(this._zoom,this._targetZoom)}_calcTargetPositionAndZoom(t,i,e,s){if(t.length>0){let o=t[s]?t[s]:t[0];if(this.setPosition(o.position),e){let t=Math.abs(i.zoomY-this._position.y);this.zoom=Math.max(1,(1-t/5)*4)}else this.zoom=1}else this.setPosition({x:0,y:0}),this.zoom=1}_interpolation(t,i){let e=i-t;return .03333333333333333>Math.abs(e)?i:t+e/10}renderScene(t,i){let e=60*this._zoom;t.save(),t.translate(-this.x*this._zoom,-this.y*this._zoom),t.scale(this.zoom,this.zoom),t.translate(t.canvas.width/e,t.canvas.height/e),i(t),t.restore()}constructor(){this._position={x:0,y:0},this._targetPosition={x:0,y:0},this._zoom=1,this._targetZoom=1,this._locked=!1}}class k{constructor(){this.sizeFactor=1,this._images={}}get width(){return this._canvas.width}get height(){return this._canvas.height}get canvas(){return this._canvas}async init(){await this._load(),this._canvas=document.createElement("canvas"),this._canvas.width=1600,this._canvas.height=900,this.ctx=this._canvas.getContext("2d",{alpha:!1}),document.body.appendChild(this._canvas);let t=t=>{let i=t?t[0].contentRect:this._canvas.getBoundingClientRect(),e=Math.max(i.width/2,640),s=e/i.width*i.height;this._canvas.width=e,this._canvas.height=s,this.sizeFactor=e/i.width};new ResizeObserver(t).observe(this._canvas),t()}async _loadImage(t){return new Promise(i=>{let e=new Image;e.addEventListener("load",()=>{i(e)}),e.src=t})}async _load(){let t=[{name:"챔루",imgUrl:"/roulette/assets/images/chamru.png"},{name:"쿠빈",imgUrl:"/roulette/assets/images/kubin.png"}].map(({name:t,imgUrl:i})=>(async()=>{this._images[t]=await this._loadImage(i)})());await Promise.all(t)}render(t,i){this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this._canvas.width,this._canvas.height),this.ctx.save(),this.ctx.scale(30,30),this.ctx.textAlign="left",this.ctx.textBaseline="top",this.ctx.font="0.4pt sans-serif",this.ctx.lineWidth=3/(t.camera.zoom+30),t.camera.renderScene(this.ctx,()=>{this.renderEntities(t.entities),this.renderEffects(t),this.renderMarbles(t)}),this.ctx.restore(),i.forEach(i=>i.render(this.ctx,t,this._canvas.width,this._canvas.height)),t.particleManager.render(this.ctx),this.renderWinner(t)}renderEntities(t){this.ctx.save(),t.forEach(t=>{this.ctx.save(),this.ctx.translate(t.x,t.y),this.ctx.rotate(t.angle),this.ctx.fillStyle=t.shape.color??c[t.shape.type],this.ctx.strokeStyle=t.shape.color??c[t.shape.type],this.ctx.shadowBlur=15,this.ctx.shadowColor=t.shape.bloomColor??t.shape.color??h[t.shape.type];let i=t.shape;switch(i.type){case"polyline":if(i.points.length>0){this.ctx.beginPath(),this.ctx.moveTo(i.points[0][0],i.points[0][1]);for(let t=1;t<i.points.length;t++)this.ctx.lineTo(i.points[t][0],i.points[t][1]);this.ctx.stroke()}break;case"box":let e=2*i.width,s=2*i.height;this.ctx.rotate(i.rotation),this.ctx.fillRect(-e/2,-s/2,e,s),this.ctx.strokeRect(-e/2,-s/2,e,s);break;case"circle":this.ctx.beginPath(),this.ctx.arc(0,0,i.radius,0,2*Math.PI,!1),this.ctx.stroke()}this.ctx.restore()}),this.ctx.restore()}renderEffects({effects:t,camera:i}){t.forEach(t=>t.render(this.ctx,30*i.zoom))}renderMarbles({marbles:t,camera:i,winnerRank:e,winners:s}){let o=e-s.length;t.forEach((t,e)=>{t.render(this.ctx,30*i.zoom,e===o,!1,this._images[t.name]||void 0)})}renderWinner({winner:t}){t&&(this.ctx.save(),this.ctx.fillStyle="rgba(0, 0, 0, 0.5)",this.ctx.fillRect(this._canvas.width/2,this._canvas.height-168,this._canvas.width/2,168),this.ctx.fillStyle="white",this.ctx.font="bold 48px sans-serif",this.ctx.textAlign="right",this.ctx.fillText("Winner",this._canvas.width-10,this._canvas.height-120),this.ctx.font="bold 72px sans-serif",this.ctx.fillStyle=t.color,this.ctx.fillText(t.name,this._canvas.width-10,this._canvas.height-55),this.ctx.restore())}}class v{constructor(t,i){this._size=0,this._elapsed=0,this.isDestroy=!1,this.position={x:t,y:i}}update(t){this._elapsed+=t,this._size=this._elapsed/500*10,this._elapsed>500&&(this.isDestroy=!0)}render(t,i){t.save();let e=this._elapsed/500;t.globalAlpha=1-e*e,t.strokeStyle="white",t.lineWidth=1/i,t.beginPath(),t.arc(this.position.x,this.position.y,this._size,0,2*Math.PI),t.stroke(),t.restore()}}function M(t,i,e){return{configurable:!0,get(){let t=e.value.bind(this);return Object.defineProperty(this,i,{value:t,configurable:!0,writable:!0}),t}}}class S{constructor(){this._currentY=0,this._targetY=0,this.fontHeight=16,this._userMoved=0,this._currentWinner=-1,this.maxY=0,this.winners=[],this.marbles=[],this.winnerRank=-1}onWheel(t){this._targetY+=t.deltaY,this._targetY>this.maxY&&(this._targetY=this.maxY),this._userMoved=2e3}onDblClick(t){if(t&&navigator.clipboard){let t=[],i=0;t.push(...[...this.winners,...this.marbles].map(t=>(i++,[i.toString(),t.name,i===this.winnerRank?"☆":""].join("	")))),t.unshift("Rank	Name	Winner"),navigator.clipboard.writeText(t.join("\n")).then(()=>{this.messageHandler&&this.messageHandler("The result has been copied")})}}onMessage(t){this.messageHandler=t}render(t,{winners:i,marbles:e,winnerRank:s},o,a){let r=o-5,n=Math.max(-this.fontHeight,this._currentY-a/2);this.maxY=Math.max(0,(e.length+i.length)*this.fontHeight+this.fontHeight),this._currentWinner=i.length,this.winners=i,this.marbles=e,this.winnerRank=s,t.save(),t.textAlign="right",t.font="10pt sans-serif",t.fillStyle="#666",t.fillText(`${i.length} / ${i.length+e.length}`,o-5,this.fontHeight),t.beginPath(),t.rect(0,this.fontHeight+2,o,this.maxY),t.clip(),t.translate(0,-n),t.font="bold 11pt sans-serif",i.forEach((i,e)=>{let o=e*this.fontHeight;o>=n&&o<=n+t.canvas.height&&(t.fillStyle=i.color,t.fillText(`${e===s?"☆":"✔"} ${i.name} #${e+1}`,r,20+o))}),t.font="10pt sans-serif",e.forEach((e,s)=>{let o=(s+i.length)*this.fontHeight;o>=n&&o<=n+t.canvas.height&&(t.fillStyle=e.color,t.fillText(`${e.name} #${s+1+i.length}`,r,20+o))}),t.restore()}update(t){-1!==this._currentWinner&&(this._userMoved>0?this._userMoved-=t:this._targetY=this._currentWinner*this.fontHeight+this.fontHeight,this._currentY!==this._targetY&&(this._currentY+=(this._targetY-this._currentY)*(t/250)),1>Math.abs(this._currentY-this._targetY)&&(this._currentY=this._targetY))}getBoundingBox(){return null}}l([M],S.prototype,"onWheel",null),l([M],S.prototype,"onDblClick",null);class R{constructor(){this.lastParams=null,this._onViewportChangeHandler=null,this.mousePosition=null,this.boundingBox={x:10,y:10,w:104,h:0}}getBoundingBox(){return this.boundingBox}onViewportChange(t){this._onViewportChangeHandler=t}update(){}onMouseMove(t){if(!t){this.mousePosition=null,this._onViewportChangeHandler&&this._onViewportChangeHandler();return}this.lastParams&&(this.mousePosition={x:t.x,y:t.y},this._onViewportChangeHandler&&this._onViewportChangeHandler({x:this.mousePosition.x/4,y:this.mousePosition.y/4}))}render(t,i){if(!t)return;let{stage:e}=i;e&&(this.boundingBox.h=4*e.goalY,this.lastParams=i,this.ctx=t,t.save(),t.fillStyle="#333",t.translate(10,10),t.scale(4,4),t.fillRect(0,0,26,e.goalY),this.ctx.lineWidth=3/(i.camera.zoom+30),this.drawEntities(i.entities),this.drawMarbles(i),this.drawViewport(i),t.restore(),t.save(),t.strokeStyle="green",t.lineWidth=1,t.strokeRect(this.boundingBox.x,this.boundingBox.y,this.boundingBox.w,this.boundingBox.h),t.restore())}drawViewport(t){this.ctx.save();let{camera:i,size:e}=t,s=30*i.zoom,o=e.x/s,a=e.y/s;this.ctx.strokeStyle="white",this.ctx.lineWidth=1/s,this.ctx.strokeRect(i.x-o/2,i.y-a/2,o,a),this.ctx.restore()}drawEntities(t){this.ctx.save(),t.forEach(t=>{this.ctx.save(),this.ctx.fillStyle=t.shape.color??c[t.shape.type],this.ctx.strokeStyle=t.shape.color??c[t.shape.type],this.ctx.translate(t.x,t.y),this.ctx.rotate(t.angle),this.ctx.save();let i=t.shape;switch(i.type){case"box":let e=2*i.width,s=2*i.height;this.ctx.rotate(i.rotation),this.ctx.fillRect(-e/2,-s/2,e,s);break;case"circle":this.ctx.beginPath(),this.ctx.arc(0,0,i.radius,0,2*Math.PI,!1),this.ctx.stroke();break;case"polyline":if(i.points.length>0){this.ctx.beginPath(),this.ctx.moveTo(i.points[0][0],i.points[0][1]);for(let t=1;t<i.points.length;t++)this.ctx.lineTo(i.points[t][0],i.points[t][1]);this.ctx.stroke()}}this.ctx.restore(),this.ctx.restore()}),this.ctx.restore()}drawMarbles(t){let{marbles:i}=t;i.forEach(t=>{t.render(this.ctx,1,!1,!0)})}}l([M],R.prototype,"onMouseMove",null);class E{constructor(t){this.chunks=[],this.stopping=!1,this.targetCanvas=t,this.videoStream=this.targetCanvas.captureStream(),this.mediaRecorder=new MediaRecorder(this.videoStream,{videoBitsPerSecond:6e6})}async start(){return this.stopping=!1,new Promise(t=>{this.chunks=[],this.mediaRecorder.ondataavailable=t=>{this.chunks.push(t.data)},this.mediaRecorder.onstop=()=>{let t=new Blob(this.chunks,{type:"video/webm"}),i=URL.createObjectURL(t),e=document.createElement("a"),s=new Date;e.href=i,e.download=`marble_roulette_${s.getFullYear()}${g(s.getMonth()+1)}${g(s.getDate())}${g(s.getHours())}${g(s.getMinutes())}${g(s.getSeconds())}.webm`,e.click(),e.remove(),URL.revokeObjectURL(i)},this.mediaRecorder.onstart=()=>{t()},this.mediaRecorder.start()})}stop(){this.stopping=!0,"recording"===this.mediaRecorder.state&&this.mediaRecorder.stop()}}var T=async(...t)=>{let i=WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),{default:e}=await (i?a("iyjrR"):a("8ZFBQ"));return await e(...t)};class B{async init(){this.Box2D=await T(),this.gravity=new this.Box2D.b2Vec2(0,10),this.world=new this.Box2D.b2World(this.gravity),console.log("box2d ready")}clear(){this.clearEntities()}clearMarbles(){Object.values(this.marbleMap).forEach(t=>{this.world.DestroyBody(t)}),this.marbleMap={}}createStage(t){this.createEntities(t.entities)}createEntities(t){if(!t)return;let i={static:this.Box2D.b2_staticBody,kinematic:this.Box2D.b2_kinematicBody};t.forEach(t=>{let e,s=new this.Box2D.b2BodyDef;s.set_type(i[t.type]);let o=this.world.CreateBody(s),a=new this.Box2D.b2FixtureDef;switch(a.set_density(t.props.density),a.set_restitution(t.props.restitution),t.shape.type){case"box":(e=new this.Box2D.b2PolygonShape).SetAsBox(t.shape.width,t.shape.height,0,t.shape.rotation),a.set_shape(e),o.CreateFixture(a);break;case"polyline":e=new this.Box2D.b2EdgeShape;for(let i=0;i<t.shape.points.length-1;i++){let e=t.shape.points[i],s=t.shape.points[i+1],a=new this.Box2D.b2Vec2(e[0],e[1]),r=new this.Box2D.b2Vec2(s[0],s[1]),n=new this.Box2D.b2EdgeShape;n.SetTwoSided(a,r),o.CreateFixture(n,1)}break;case"circle":(e=new this.Box2D.b2CircleShape).set_m_radius(t.shape.radius),a.set_shape(e),o.CreateFixture(a)}o.SetAngularVelocity(t.props.angularVelocity),o.SetTransform(new this.Box2D.b2Vec2(t.position.x,t.position.y),0),this.entities.push({body:o,x:t.position.x,y:t.position.y,angle:0,shape:t.shape,life:t.props.life??-1})})}clearEntities(){this.entities.forEach(t=>{this.world.DestroyBody(t.body)}),this.entities=[]}createMarble(t,i,e){let s=new this.Box2D.b2CircleShape;s.set_m_radius(.25);let o=new this.Box2D.b2BodyDef;o.set_type(this.Box2D.b2_dynamicBody),o.set_position(new this.Box2D.b2Vec2(i,e));let a=this.world.CreateBody(o);a.CreateFixture(s,1+Math.random()),a.SetAwake(!1),a.SetEnabled(!1),this.marbleMap[t]=a}shakeMarble(t){let i=this.marbleMap[t];i&&i.ApplyLinearImpulseToCenter(new this.Box2D.b2Vec2(10*Math.random()-5,10*Math.random()-5),!0)}removeMarble(t){let i=this.marbleMap[t];i&&(this.world.DestroyBody(i),delete this.marbleMap[t])}getMarblePosition(t){let i=this.marbleMap[t];if(!i)return{x:0,y:0,angle:0};{let t=i.GetPosition();return{x:t.x,y:t.y,angle:i.GetAngle()}}}getEntities(){return this.entities.map(t=>({...t,angle:t.body.GetAngle()}))}impact(t){let i=this.marbleMap[t];i&&Object.values(this.marbleMap).forEach(t=>{if(t===i)return;let e=new this.Box2D.b2Vec2(t.GetPosition().x,t.GetPosition().y);if(e.op_sub(i.GetPosition()),100>e.LengthSquared()){e.Normalize();let i=1-e.Length()/10;e.op_mul(i*i*5),t.ApplyLinearImpulseToCenter(e,!0)}})}start(){for(let t in this.marbleMap){let i=this.marbleMap[t];i.SetAwake(!0),i.SetEnabled(!0)}}step(t){this.deleteCandidates.forEach(t=>{this.world.DestroyBody(t)}),this.deleteCandidates=[],this.world.Step(t,6,2);for(let t=this.entities.length-1;t>=0;t--){let i=this.entities[t];if(i.life>0){let e=i.body.GetContactList();e.contact&&e.contact.IsTouching()&&(this.deleteCandidates.push(i.body),this.entities.splice(t,1))}}}constructor(){this.marbleMap={},this.entities=[],this.deleteCandidates=[]}}class P extends EventTarget{get isReady(){return this._isReady}constructor(){super(),this._marbles=[],this._lastTime=0,this._elapsed=0,this._noMoveDuration=0,this._shakeAvailable=!1,this._updateInterval=10,this._timeScale=1,this._speed=1,this._winners=[],this._particleManager=new w,this._stage=null,this._camera=new _,this._renderer=new k,this._effects=[],this._winnerRank=0,this._totalMarbleCount=0,this._goalDist=1/0,this._isRunning=!1,this._winner=null,this._uiObjects=[],this._autoRecording=!1,this._isReady=!1,this._renderer.init().then(()=>{this._init().then(()=>{this._isReady=!0,this._update()})})}getZoom(){return 30*this._camera.zoom}addUiObject(t){this._uiObjects.push(t),t.onWheel&&this._renderer.canvas.addEventListener("wheel",t.onWheel),t.onMessage&&t.onMessage(t=>{console.log("onMessage",t),this.dispatchEvent(new CustomEvent("message",{detail:t}))})}_update(){this._lastTime||(this._lastTime=Date.now());let t=Date.now();this._elapsed+=(t-this._lastTime)*this._speed,this._elapsed>100&&(this._elapsed%=100),this._lastTime=t;let i=this._updateInterval/1e3*this._timeScale;for(;this._elapsed>=this._updateInterval;)this.physics.step(i),this._updateMarbles(this._updateInterval),this._particleManager.update(this._updateInterval),this._updateEffects(this._updateInterval),this._elapsed-=this._updateInterval,this._uiObjects.forEach(t=>t.update(this._updateInterval));this._marbles.length>1&&this._marbles.sort((t,i)=>i.y-t.y),this._stage&&(this._camera.update({marbles:this._marbles,stage:this._stage,needToZoom:this._goalDist<5,targetIndex:this._winners.length>0?this._winnerRank-this._winners.length:0}),this._isRunning&&this._marbles.length>0&&this._noMoveDuration>3e3?this._changeShakeAvailable(!0):this._changeShakeAvailable(!1)),this._render(),window.requestAnimationFrame(this._update)}_updateMarbles(t){if(!this._stage)return;for(let i=0;i<this._marbles.length;i++){let e=this._marbles[i];e.update(t),e.skill===y.Impact&&(this._effects.push(new v(e.x,e.y)),this.physics.impact(e.id)),e.y>this._stage.goalY&&(this._winners.push(e),this._isRunning&&this._winners.length===this._winnerRank+1?(this.dispatchEvent(new CustomEvent("goal",{detail:{winner:e.name}})),this._winner=e,this._isRunning=!1,this._particleManager.shot(this._renderer.width,this._renderer.height),setTimeout(()=>{this._recorder.stop()},1e3)):this._isRunning&&this._winnerRank===this._winners.length&&this._winnerRank===this._totalMarbleCount-1&&(this.dispatchEvent(new CustomEvent("goal",{detail:{winner:this._marbles[i+1].name}})),this._winner=this._marbles[i+1],this._isRunning=!1,this._particleManager.shot(this._renderer.width,this._renderer.height),setTimeout(()=>{this._recorder.stop()},1e3)),setTimeout(()=>{this.physics.removeMarble(e.id)},500))}let i=this._winnerRank-this._winners.length,e=this._marbles[i]?this._marbles[i].y:0;this._goalDist=Math.abs(this._stage.zoomY-e),this._timeScale=this._calcTimeScale(),this._marbles=this._marbles.filter(t=>t.y<=this._stage.goalY)}_calcTimeScale(){if(!this._stage)return 1;let t=this._winnerRank-this._winners.length;return this._winners.length<this._winnerRank+1&&this._goalDist<5&&this._marbles[t].y>this._stage.zoomY-6&&(this._marbles[t-1]||this._marbles[t+1])?Math.max(.2,this._goalDist/5):1}_updateEffects(t){this._effects.forEach(i=>i.update(t)),this._effects=this._effects.filter(t=>!t.isDestroy)}_render(){if(!this._stage)return;let t={camera:this._camera,stage:this._stage,entities:this.physics.getEntities(),marbles:this._marbles,winners:this._winners,particleManager:this._particleManager,effects:this._effects,winnerRank:this._winnerRank,winner:this._winner,size:{x:this._renderer.width,y:this._renderer.height}};this._renderer.render(t,this._uiObjects)}async _init(){this._recorder=new E(this._renderer.canvas),this.physics=new B,await this.physics.init(),this.addUiObject(new S),this.attachEvent();let t=new R;t.onViewportChange(t=>{t?(this._camera.setPosition(t,!1),this._camera.lock(!0)):this._camera.lock(!1)}),this.addUiObject(t),this._stage=m[0],this._loadMap()}mouseHandler(t,i){let e=`on${t}`,s=this._renderer.sizeFactor,o={x:i.offsetX*s,y:i.offsetY*s};this._uiObjects.forEach(t=>{if(!t[e])return;let s=t.getBoundingBox();s?s&&o.x>=s.x&&o.y>=s.y&&o.x<=s.x+s.w&&o.y<=s.y+s.h?t[e]({x:o.x-s.x,y:o.y-s.y,button:i.button}):t[e](void 0):t[e]({...o,button:i.button})})}attachEvent(){["MouseMove","MouseUp","MouseDown","DblClick"].forEach(t=>{this._renderer.canvas.addEventListener(t.toLowerCase(),this.mouseHandler.bind(this,t))})}_loadMap(){if(!this._stage)throw Error("No map has been selected");this.physics.createStage(this._stage)}clearMarbles(){this.physics.clearMarbles(),this._winner=null,this._winners=[],this._marbles=[]}start(){this._isRunning=!0,this._winnerRank=x.winningRank,this._winnerRank>=this._marbles.length&&(this._winnerRank=this._marbles.length-1),this._autoRecording?this._recorder.start().then(()=>{this.physics.start(),this._marbles.forEach(t=>t.isActive=!0)}):(this.physics.start(),this._marbles.forEach(t=>t.isActive=!0))}setSpeed(t){if(t<=0)throw Error("Speed multiplier must larger than 0");this._speed=t}getSpeed(){return this._speed}setWinningRank(t){this._winnerRank=t}setAutoRecording(t){this._autoRecording=t}setMarbles(t){this.reset();let i=t.slice(),e=-1/0,s=1/0,o=i.map(t=>{let i=function(t){let i=/\/(\d+)/,e=/\*(\d+)/,s=i.test(t),o=e.test(t),a=d(/^\s*([^\/*]+)?/,t);return a?{name:a,weight:s?parseInt(d(i,t)):1,count:o?parseInt(d(e,t)):1}:null}(t);if(!i)return null;let{name:o,weight:a,count:r}=i;return a>e&&(e=a),a<s&&(s=a),{name:o,weight:a,count:r}}).filter(t=>!!t),a=e-s,r=0;o.forEach(t=>{t&&(t.weight=.1+(a?(t.weight-s)/a:0),r+=t.count)});let n=Array(r).fill(0).map((t,i)=>i).sort(()=>Math.random()-.5);o.forEach(t=>{if(t)for(let i=0;i<t.count;i++){let i=n.pop()||0;this._marbles.push(new b(this.physics,i,r,t.name,t.weight))}}),this._totalMarbleCount=r}_clearMap(){this.physics.clear(),this._marbles=[]}reset(){this.clearMarbles(),this._clearMap(),this._loadMap(),this._goalDist=1/0}getCount(){return this._marbles.length}_changeShakeAvailable(t){this._shakeAvailable!==t&&(this._shakeAvailable=t,this.dispatchEvent(new CustomEvent("shakeAvailableChanged",{detail:t})))}shake(){if(!this._shakeAvailable)return}getMaps(){return m.map((t,i)=>({index:i,title:t.title}))}setMap(t){if(t<0||t>m.length-1)throw Error("Incorrect map number");let i=this._marbles.map(t=>t.name);this._stage=m[t],this.setMarbles(i)}}l([M],P.prototype,"_update",null),l([M],P.prototype,"mouseHandler",null);const C=new P;window.roullete=C,window.options=x;
//# sourceMappingURL=roulette.0ab8edf8.js.map
